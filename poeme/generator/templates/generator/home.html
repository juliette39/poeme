{% extends 'generator/base.html' %}
{% load static %}

{% block nav %}
<ul>
    <li><a href="#intro" class="active">Générateur</a></li>
    <li><a href="#first">Informations</a></li>
    <li><a href="#cta">Application</a></li>
</ul>
{% endblock %}

{% block main %}

<!-- Introduction -->
    <section id="intro" class="main">
        <div class="spotlight">
            <div class="content">
                <header class="major">
                    <h2>Générateur</h2>
                </header>
                <a href="{% url 'aide' %}" target="_blank">Aide phonétique</a>
                <p style="margin: 10px 0;">Quelques exemples de forme de poèmes :</p>

                <div id="" style="display: block; margin-bottom: 20px;">
                    <div id="sonnet" class="button">Sonnet</div>
                    <div id="haiku" class="button">Haïku</div>
                    <div id="ballade" class="button">Ballade</div>
                </div>

            <form id="my-form" action="" method="post" novalidate>
                {% csrf_token %}
                {{ form.as_p }}
                <input type="submit" value="Générer" class="button">
            </form>

                <div id="status"></div>

                <p id="result">
{% for ligne in poem %}{{ligne}}</br>
{% endfor %}
                </p>

                <button class="button" id="telecharger" onclick="download()" style="display: none;">Télécharger</button>

                <div id="err1" style="color:#FF0000";>{{err1}}</div>
                <div id="err2" style="color:#FF0000";>{{err2}}</div>
                <div id="err3" style="color:#FF0000";></div>

            </div>
            <span class="image"><img src="/static/generator/images/plume.png" alt="image plume" /></span>
        </div>
    </section>

    <section id="first" class="main special">
        <header class="major">
            <h2>Informations</h2>
            <p>Attention : Le temps pour générer un poème pouvant être assez long, ne rechargez pas la page avant la fin du chargement.</p>
            <p>Utilisation du générateur de poème :<br/>Pour générer le poème, il faut donner sa forme (un sonnet est ABBA CDDC EEF GGF), vous pouvez aussi donner les pieds de chaque vers (par défaut 12 pieds), et imposer des rimes spéciales (vous pouvez accéder à l'ensemble des rimes possible vers la page <a href="{% url 'aide' %}" target="_blank">Aide phonétique</a>).<br/>Veuillez bien respecter la mise en forme.</p>
        </header>
    </section>

<!-- Get Started -->
    <section id="cta" class="main special">
        <header class="major">
            <h2>Application</h2>
            <p>Vous souhaitez utiliser Poème hors ligne ? C'est possible avec l'application pour ordinateurs !</p>
        </header>
        <footer class="major">
            <ul class="actions special">
                <li><a href="{% url 'app' %}" class="button primary" title="Page application">Application</a></li>
            </ul>
        </footer>
    </section>

{% endblock %}

{% block javascript %}
<script src="{% static 'generator/assets/js/prev.js' %}"></script>
<script>console.log({{poem}});</script>

{% endblock %}